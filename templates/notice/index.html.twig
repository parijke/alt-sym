{% extends 'base.html.twig' %}

{% block title %}Ihr Merkzettel{% endblock %}

{% block body %}
    <div class="container">
        <h1 class="display-4 text-center">Gastgeber Vergleichen</h1>

        <p class="lead">Vergleichen Sie Ihre Unterkünfte</p>
        <div class="row">

            <!-- Notice Hostels Loop -->
            {% for hostel in hostels %}
                <div class="col-md-3">
                    <div class="card card-list-hotels mb-2">

                        <div class="img-thumb-box">

                            <!-- Notice Heart Button Ajax submit -->
                            {% if hostel.id in app.session.get('notice') %}
                                <a href="{{ path('notice_remove',{'id':hostel.id}) }}" class="notice-button"><i
                                            class="fas fa-heart"></i></a>
                            {% else %}
                                <a href="{{ path('notice_add',{'id':hostel.id}) }}" class="notice-button"><i
                                            class="far fa-heart"></i></a>
                            {% endif %}
                            <!-- Notice Heart Button Ajax submit #END -->

                            <a href="{{ path('hostel_details',{'id':hostel.id}) }}">
                                <!-- Hostel Image -->
                                {% if hostel.image is not empty %}
                                    <!-- Image -->
                                    <img src="{{ hostel.image }}" alt="{{ hostel.hostelName }}"
                                         class="rounded card-img">
                                {% else %}
                                    <!-- Place Holder -->
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 225 225"
                                         class="rounded card-img">
                                        <rect fill="#ddd" width="225" height="225"/>
                                        <text fill="rgba(0,0,0,0.5)" font-family="sans-serif" font-size="30" dy="10.5"
                                              font-weight="bold" x="50%" y="50%" text-anchor="middle">225×225
                                        </text>
                                    </svg>
                                {% endif %}
                            </a>
                        </div>
                        <div class="card-body">
                            <h3><a href="{{ path('hostel_details',{'id':hostel.id}) }}">{{ hostel.hostelName }}</a>
                            </h3>
                            <strong>{#<?php echo $chunk['typ_name'] ?>#}</strong>
                            <div class="row mb-1">
                                <div class="col-md-12">
                                    {# <?php foreach ($serviceRepository->getAllServices() as $service): ?>
                                     <?php if (!empty($chunk[$service['name']])): ?>#}
                                    {# <img src="images/icons/{{ hostel.id }}" data-toggle="tooltip"
                                          title="{{ hostel.id }}"/>#}
                                    {#  <?php endif; ?>
                                      <?php endforeach; ?>#}
                                </div>
                            </div>
                            <div class="accordion" id="accordion_{{ hostel.id }}">
                                <div class="card">
                                    <div class="card-header" id="heading_{{ hostel.id }}">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link" type="button" data-toggle="collapse"
                                                    data-target="#collapse_{{ hostel.id }}" aria-expanded="true"
                                                    aria-controls="collapseOne">
                                                <div class="listing-icon-location">
                                                    <i class="fa fa-map-marker-alt"></i>
                                                </div> {{ hostel.city }}  {{ hostel.distanceToSee|number_format('1',',','.') }}
                                                KM vom See
                                                entfernt <i class="fas fa-angle-down rotate-icon"></i>
                                            </button>
                                        </h2>
                                    </div>

                                    <div id="collapse_{{ hostel.id }}" class="collapse"
                                         aria-labelledby="heading_{{ hostel.id }}"
                                         data-parent="#accordion_{{ hostel.id }}">
                                        <div class="card-body">
                                            <p>{{ hostel.address }}</p>
                                            <p>{{ hostel.address }} {{ hostel.city }}</p>
                                            <p>Tel.:
                                                <a href="tel:{{ hostel.phone|replace({'0':+49}) }}">{{ hostel.phone }}</a>
                                            </p>
                                            <p>Fax.: {{ hostel.fax }}</p>
                                            <p><a href="{{ path('hostel_details',{'id':hostel.id}) }}">Detail's
                                                    anzeigen</a></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>
                                <a href="mailto:{{ hostel.email }}?subject=Altmühlsee Portal Anfrage">E-Mail</a>
                            </p>
                        </div>

                    </div>
                </div>
            {% else %}
                <span class="lead">Keine Gastgeber auf dem Merkzettel gespeichert</span>
            {% endfor %}
            <!-- Notice Hostels Loop #END -->

        </div>
    </div>
{% endblock %}
